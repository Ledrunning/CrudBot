# SimpleCrudBot
## Telegram bot for getting weather and demonstrate simple CRUD operation with MS-SQL Database

* All sourse code written in C# .NET 6 as a console application using polling wrapper from: https://github.com/TelegramBots/Telegram.Bot.Examples
* MrRoundRobin Nuget package used in this project: https://www.nuget.org/packages/Telegram.Bot

#Configure
All program configuration locate in appsettings.json file in *CrudBot.Main* project
You need to pass your Telegram token generated by @BotFather https://core.telegram.org/bots/faq#how-do-i-create-a-bot
to the next section:

```
 "BotConfiguration": {
    "BotToken": "Your token"
  }
```
To configure the database create it and just run program after all steps of configuring:

```
 "DatabaseConfiguration": {
    "ConnectionString": "Your connection string"
  }
```

For weather servivice I used OpenWeather API 2.5 and GeoWeather Api: https://openweathermap.org/
Put your API key to the next section

```
"OpenWeatherApi": {
    "BaseUrl": "https://api.openweathermap.org/data/2.5/weather?",
    "ApiKey": "Your API key",
    "TimeOut": "-1",
    "BaseGeoUrl": "http://api.openweathermap.org/geo/1.0/direct?q=",
    "GeoCityLimit": "1"
  }
```

The bot works with the following commands:
*/fill_data       - Put data to database from user.json file. This file inluded in solution
*/add_person      - Add person into database
*/get_persons     - Get all persons from database
*/edit_person     - Edit person in database
*/delete_person   - Delete person by Id
*/delete_all      - Delete all persons from database
*/get_weather     - Get current weather";
